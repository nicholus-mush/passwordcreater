from itertools import product
import string
import sys

# Ask user for password length
length = int(input("Enter password length (e.g. 2, 3, 4): "))

# Character set: lowercase + uppercase letters
chars = string.ascii_lowercase + string.ascii_uppercase
filename = f"char_passwords_{length}_letters.txt"

total = len(chars) ** length  # total combinations
count = 0

print(f"\nGenerating {total:,} possible passwords...\n")

with open(filename, "w") as file:
    for combo in product(chars, repeat=length):
        file.write(''.join(combo) + "\n")
        count += 1

        # Update progress every 1% or for small files every 1000 passwords
        if count % (total // 100 or 1000) == 0:
            percent = (count / total) * 100
            sys.stdout.write(f"\rProgress: {percent:.0f}% ({count:,}/{total:,})")
            sys.stdout.flush()

print(f"\nâœ… Done! All {length}-letter passwords saved to {filename}")
print(f"Total passwords generated: {total:,}")
